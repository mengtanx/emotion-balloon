# 情绪气球 - 释放你的情绪

一个温暖的情绪支持和记录平台，帮助用户安全地表达和释放情绪，通过基于认知行为疗法的AI伙伴获得专业陪伴和支持。

## 🌟 主要功能

### 1. 智能情绪释放 🎈

- **基于CBT的AI支持**：采用《伯恩斯新情绪疗法》的认知行为疗法原理
- **多轮对话支持**：与AI心灵伙伴进行深度情绪对话
- **实时打字机效果**：AI回复采用流式响应，模拟真实对话体验
- **可选择释放**：用户可以选择何时释放情绪气球，或继续对话
- **气球爆炸动画**：美观的气球飞向空中并爆炸的释放动画，象征情绪的彻底释放

### 2. 情绪历史热力图 📈

- **GitHub风格热力图**：在首页展示过去一年的情绪记录热力图
- **颜色编码**：不同情绪用不同颜色表示，记录频率影响颜色深度
- **交互式体验**：悬停显示具体日期和记录详情
- **趋势可视化**：直观了解情绪变化模式和频率

### 3. 自定义情绪管理 🎨

- **内置情绪类型**：愤怒、悲伤、焦虑、快乐、平静、困惑
- **自定义情绪**：支持用户添加个性化的情绪类型
- **颜色选择**：为自定义情绪选择专属渐变色
- **情绪管理**：可以删除不需要的自定义情绪

### 4. 苹果风格日历 📅

- **现代化设计**：参考苹果设计风格的美观日历界面
- **情绪指示器**：日历中以彩色圆点显示每日情绪状态
- **月份导航**：流畅的月份切换动画
- **今日标记**：清晰标识今天的日期
- **悬停效果**：鼠标悬停显示情绪名称

### 5. 详细记录侧边栏 📝

- **滑动展示**：点击日期后从右侧滑出详细信息
- **快速导航**：修复"开始记录情绪"按钮，可直接跳转到释放页面
- **完整对话记录**：显示该日期的所有情绪对话
- **时间轴展示**：按时间顺序显示消息
- **释放状态**：清晰标识哪些气球已被释放
- **统计信息**：显示对话数量和时间信息

### 6. 数据统计看板 📊

- **总体统计**：总对话数、记录天数、已释放气球数
- **最近趋势**：展示最近7次的情绪记录趋势
- **情绪图例**：完整的情绪类型和颜色对照
- **可视化展示**：直观的图标和数据展示

## 🧠 AI心理支持特色

### 认知行为疗法（CBT）原理

AI助手基于《伯恩斯新情绪疗法》的专业理念：

- **思维与情绪关系**：帮助用户理解情绪来源于思维模式
- **识别认知扭曲**：温和引导发现10种常见认知偏差
- **苏格拉底式提问**：通过提问帮助用户自我发现
- **现实检验**：协助客观审视想法和感受
- **积极替代思维**：引导找到更平衡的思维方式

### 专业回应策略

- 表达同理心和验证感受
- 避免说教，多用引导式提问
- 提供具体的行为建议
- 保持希望但现实的态度
- 必要时建议寻求专业帮助

## 🎯 用户体验优化

### 沉浸式气球释放体验

- **飞行动画**：气球缓缓上升，轻微摇摆模拟真实效果
- **爆炸特效**：到达高空后的绚烂爆炸效果
- **粒子散射**：爆炸后的彩色粒子飘散动画
- **心理暗示**：配合文字引导，强化情绪释放的心理感受
- **完成仪式**：释放后的感谢和鼓励信息

### 流式AI回复

- 采用Server-Sent Events (SSE)实现流式响应
- 真实的打字机效果，增强对话真实感
- 降低用户等待时的焦虑感

### 多轮对话支持

- 支持连续的情绪对话交流
- AI记忆对话历史，提供连贯的支持
- 用户可自主选择何时结束对话

### 响应式设计

- 完全适配移动设备和桌面端
- 触摸友好的交互设计
- 流畅的动画和转场效果

## 🛠 技术栈

- **前端框架**：Next.js 15.2.4 + React 19
- **UI组件库**：Shadcn UI + Radix UI
- **样式框架**：Tailwind CSS
- **动画库**：Framer Motion
- **图标库**：Lucide React
- **AI服务**：OpenRouter API (Google Gemini 2.0 Flash)
- **部署平台**：Vercel

## 📱 页面结构

### 首页 (`/`)

- 欢迎界面和功能介绍
- 快速导航到主要功能

### 情绪释放 (`/release`)

- 情绪气球选择界面
- 自定义情绪管理
- 多轮AI对话系统
- 气球释放动画

### 情绪记录 (`/records`)

- 苹果风格日历展示
- 统计数据看板
- 详细记录侧边栏
- 情绪趋势分析

### 关于页面 (`/about`)

- 项目介绍和使用指南

## 🔧 本地开发

\`\`\`bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建项目
npm run build

# 启动生产服务器
npm start
\`\`\`

## 🌐 环境变量

创建 `.env.local` 文件并添加以下配置：

\`\`\`env
OPENROUTER_API_KEY=your_openrouter_api_key_here
\`\`\`

**获取 OpenRouter API 密钥：**

1. 访问 [OpenRouter](https://openrouter.ai/)
2. 注册账户并获取 API 密钥
3. 将密钥添加到 `.env.local` 文件中

**当前使用的AI模型：** Google Gemini 2.0 Flash (速度更快，响应更及时)

## 🎨 设计亮点

### 颜色主题

- 主色调：蓝色到紫色的渐变
- 背景：柔和的多色渐变
- 情绪色彩：丰富的情绪表达色彩

### 交互动画

- 页面切换的淡入淡出
- 按钮的缩放反馈
- 气球释放的飞行动画
- 侧边栏的滑动展示

### 用户体验

- 直观的情绪选择界面
- 温馨的对话体验
- 清晰的数据可视化
- 流畅的操作反馈

## 🚀 部署说明

项目已部署在 Vercel 平台：

- **生产地址**：https://v0-emotion-balloon.vercel.app/
- **自动部署**：推送到main分支自动触发部署
- **环境配置**：在Vercel控制台配置环境变量

## 📈 未来规划

- [ ] 情绪数据导出功能
- [ ] 更多AI模型选择
- [ ] 情绪分析报告
- [ ] 社区分享功能
- [ ] 推送通知提醒
- [ ] 多语言支持

## 📝 更新日志

### v1.4.0 (2025-01-02) 🧠💬

**🧠 AI提示词专业化升级**
- 优化AI回复分段和格式化：增加适当分段分要点，提升回复可读性
- 完善认知行为疗法(CBT)指导原则：更详细的十种认知扭曲识别框架
- 强化苏格拉底式提问方法：通过温和提问引导用户自我发现
- 改进现实检验策略：帮助用户客观审视想法和感受
- 优化语言表达：使用更温暖、非评判的专业语调

**💬 用户体验细节优化**
- AI回复字数控制优化：从150-250字调整为250字以内，给予更充分表达空间
- 加强回复结构化：AI现在会自动分段分要点，让专业建议更易读易懂
- 提升对话连贯性：更好地结合对话历史提供个性化回应
- 优化错误处理：改进API异常时的降级响应机制

**🎯 心理支持质量提升**
- 基于《伯恩斯新情绪疗法》的更深度应用
- 区分事实与想法的引导更加精准
- 积极思维替代策略更加具体可操作
- 必要时推荐专业心理健康服务的判断更准确

### v1.3.0 (2025-05-28) 🎈✨

**🎈 气球动画全面重构**
- 完全重写气球飞行动画，修复动画不生效的问题
- 真实椭圆形气球设计，添加气球线绳和高光效果
- 优化飞行轨迹：从屏幕底部准确飞向顶部，轻微摇摆模拟真实飞行
- 增强爆炸特效：径向渐变爆炸效果配合闪光特效
- 升级粒子系统：15个多彩粒子随机散射，增强视觉冲击
- 完整释放仪式：动画结束显示成功图标和鼓励文字

**📊 GitHub风格热力图重设计**
- 采用标准GitHub Contributions样式：52周×7天网格布局
- 紧凑设计：3×3像素方块，减少UI占用空间
- 智能颜色映射：9种情绪色彩的4级强度梯度显示
- 月份和周标签优化：顶部月份标签，底部周一/三/五标签
- 今日高亮：蓝色边框标记当前日期
- 悬停交互：鼠标悬停时颜色加深，显示详细tooltip

**🔧 技术架构优化**
- 解决CSS循环依赖编译错误，移除`@apply`循环引用
- 改用内联样式实现动态颜色，提升性能和稳定性
- 添加径向渐变CSS支持气球爆炸特效
- 优化热力图颜色计算逻辑，支持RGB颜色值映射

**🎯 用户体验提升**
- 首页热力图模块更加紧凑美观，减少视觉负担
- 气球释放动画更加流畅自然，增强情绪释放的仪式感
- 保持所有交互功能的同时优化视觉效果
- 修复开发环境编译问题，提升开发体验

### v1.2.0 (2025-05-28) 🎉

**🎈 气球释放体验升级**
- 新增气球飞向空中并爆炸的完整动画序列
- 添加粒子特效和视觉反馈，增强释放仪式感
- 完善释放完成后的感谢和鼓励界面

**📊 情绪历史可视化**
- 在首页新增GitHub风格的情绪热力图
- 365天情绪记录一目了然
- 支持悬停查看详细信息和趋势分析

**🧠 AI心理支持专业化**
- 基于《伯恩斯新情绪疗法》重写AI提示词
- 采用认知行为疗法(CBT)的专业方法
- 提供更科学的情绪引导和支持

**🔧 交互体验优化**
- 修复侧边栏"开始记录情绪"按钮无响应问题
- 完善释放完成后的操作流程
- 增加重新开始和查看记录的快捷入口

### v1.1.0 (2025-05-28)

**🎨 界面优化**
- 优化情绪气球颜色配置，解决焦虑和困惑颜色相似问题
- 焦虑：改为黄褐色到黄色渐变 (`from-amber-400 to-yellow-600`)
- 困惑：改为靛蓝色到灰石色渐变 (`from-indigo-400 to-slate-600`)

**⚡ 性能提升**
- 升级AI模型从DeepSeek Chat v3切换到Google Gemini 2.0 Flash
- 显著提升AI响应速度和质量
- 优化流式响应处理机制

**🔧 技术改进**
- 更新OpenRouter API配置
- 完善环境变量配置说明
- 优化错误处理和降级机制

**📚 文档更新**
- 增加详细的API密钥配置指南
- 完善部署和开发说明
- 更新技术栈信息

## 💝 致谢

感谢所有为情绪健康关注做出贡献的人们。这个项目旨在为需要情绪支持的用户提供一个安全、温暖的数字空间。

---

**记住：每一种情绪都是有意义的，你的感受值得被理解和关爱。** ❤️
